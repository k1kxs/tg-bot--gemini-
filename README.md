# Telegram Бот для Медицинских Работников

Этот бот предоставляет медицинскую информацию через DeepSeek AI API и запоминает контекст разговора.

## Настройка окружения

1. Клонируйте репозиторий
2. Установите зависимости:
```bash
pip3 install -r requirements.txt
```

## Конфигурация

Бот поддерживает два варианта баз данных:
- **PostgreSQL** - для рабочей среды
- **SQLite** - для локальной разработки

### Локальная разработка

Создайте файл `.env.local` в корне проекта со следующим содержимым:

```
TELEGRAM_BOT_TOKEN=ваш_токен_бота
XAI_API_KEY=ваш_ключ_api

# Для локальной разработки используем SQLite
DATABASE_URL=sqlite:///./telegram_bot.db
```

### Рабочая среда (Render.com)

В основном файле `.env` используйте следующую конфигурацию:

```
TELEGRAM_BOT_TOKEN=ваш_токен_бота
XAI_API_KEY=ваш_ключ_api

# Рабочая база данных PostgreSQL
DATABASE_URL=postgresql://username:password@host/database_name
```

## Запуск бота

```bash
python3 main.py
```

## Основные команды

- `/start` - Начать общение с ботом
- `/clear` - Очистить историю диалога
- Отправьте фото — бот опишет изображение и ответ вернётся в режиме стриминга
- Отправьте PDF или DOCX документ — бот прочитает текст и даст краткое содержание

## Устранение неполадок

### Проблемы с подключением к PostgreSQL

Если вы видите ошибку вида "nodename nor servname provided, or not known", проверьте:
1. Правильность URL базы данных
2. Добавьте `.render.com` к части хоста в URL для внешних соединений
3. Используйте SQLite для локальной разработки 